<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="google-site-verification" content="I-tP-pxN_zm4opKxF0P8T1R4yQMAPQ7OLMamNToLgTw">
    

    <title>
      Java I/O  - JAVA I/O概述 | Mr.Muzi 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="Nathan R. Lee">
    
    

    <meta name="description" content="关于java.io包下的相关类和接口的整体概括，io包下的类负责对字节流,字符流,文件(file)的操作。">
<meta name="keywords" content="IO,字节流,字符流,文件">
<meta property="og:type" content="article">
<meta property="og:title" content="Java I&#x2F;O  - JAVA I&#x2F;O概述 | Mr.Muzi">
<meta property="og:url" content="https://marcuseddie.github.io/2018/Java-source-IO-guide.html">
<meta property="og:site_name" content="Mr.Muzi">
<meta property="og:description" content="关于java.io包下的相关类和接口的整体概括，io包下的类负责对字节流,字符流,文件(file)的操作。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://res.cloudinary.com/jknight/image/upload/v1542809473/BlogImages/21568302018/java_io_structure.png">
<meta property="og:updated_time" content="2023-11-03T09:11:26.349Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java I&#x2F;O  - JAVA I&#x2F;O概述 | Mr.Muzi">
<meta name="twitter:description" content="关于java.io包下的相关类和接口的整体概括，io包下的类负责对字节流,字符流,文件(file)的操作。">
<meta name="twitter:image" content="https://res.cloudinary.com/jknight/image/upload/v1542809473/BlogImages/21568302018/java_io_structure.png">
    
    
    
      <link rel="icon" type="image/x-icon" href="/images/icon_log1.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/hint.min.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">
    <link rel="stylesheet" href="/css/font-awesome.css">
    <link rel="stylesheet" href="/css/suspend.css">
    <link rel="stylesheet" href="/css/popup.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <div class="suspend">
      <div class="site-search">
        <div class="popup">
          <span class="search-icon fa fa-search"></span>
          <input type="text" id="local-search-input" placeholder="输入关键字">
          <div id="local-search-result"></div>
          <span class="popup-btn-close">close</span>
        </div>
      </div>      
    </div>
    
    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        
        <a href="/" title="link to homepage for Mr.Muzi"><img src="/images/icon_log1.png" width="80" alt="Mr.Muzi logo" class="panel-cover__logo logo"></a>
        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">Mr.Muzi</a></h1>
        <hr class="panel-cover__divider">

        
        <p class="panel-cover__description">
          一只很安静的monkey
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">
        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/library" title class>图书馆</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title class>归档</a></li>
              
                
                <li class="navigation__item"><a href="/en/#blog" title class>英文</a></li>
              
                
                <li class="navigation__item"><a href="/about" title class>关于</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/MarcusEddie" title="GitHub">
          <i class="icon icon-social-github"></i>
          <span class="label">GitHub</span>
        </a>
      </li>
    

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="javascript:;" class="popup-trigger" title="search">
          <i class="icon icon-page-search"></i>
          <span class="label">Search</span>
        </a>
      </li>
    

    <!-- China social icon -->
    <!--
    
      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-douban'></i>
          <span class="label">Douban</span>
        </a>
      </li>

      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-weibo'></i>
          <span class="label">Weibo</span>
        </a>
      </li>

    -->



  </ul>
</nav>



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">
  	<header class="post-header">
	    <h1 class="post-title"><b>Java I/O  - JAVA I/O概述</b></h1>
	    
		    <div class="post-meta">
		      	<time datetime="2018-12-30" class="post-meta__date date">2018-12-30</time> 
		        <span class="post-meta__count count">字数统计:&nbsp;1.2k&emsp;阅读时长:&nbsp;6&nbsp;mins</span>
		      	<span class="post-meta__tags tags">
			        
			            <font class="categories">
				            &#8226; 分类:
				            <a class="categories-link" href="/categories/源码阅读/">源码阅读</a>
			            </font>
			        

			        
			            &#8226; 标签:
			            <font class="tags">
			              	<a class="tags-link" href="/tags/JDK-1-7/">JDK 1.7</a>
			            </font>
			        
		    	</span>
		    </div>
	    
  	</header>

  	<section id="post-content" class="article-content post">
  		

    	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>&emsp;&emsp;在Java语言规范中，<strong>java.io</strong>下的接口和类设计负责完成系统输入、输出的功能，涵盖了数据流、序列化、文件、网络流多种应用场景，可以支持字节流、字符流的输入输出。所有测试及代码描述基于JDK版本<strong>1.7</strong>。</p>
<a id="more"></a>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>&emsp;&emsp;在java.io包下，共有各种类51个，含有或涉及接口12个。具体信息参考表1和表2：</p>
<p>表1：包中含有类对象</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/2018/Java-source-BufferedInput-OutputStream.html">BufferedInputStream</a></td>
<td>A <code>BufferedInputStream</code> adds functionality to another input stream-namely, the ability to buffer the input and to support the <code>mark</code> and <code>reset</code> methods.</td>
</tr>
<tr>
<td><a href="/2018/Java-source-BufferedInput-OutputStream.html">BufferedOutputStream</a></td>
<td>The class implements a buffered output stream.</td>
</tr>
<tr>
<td><a href="/2018/java-BufferedReader-BufferedWriter.html">BufferedReader</a></td>
<td>Reads text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines.</td>
</tr>
<tr>
<td><a href="/2018/java-BufferedReader-BufferedWriter.html">BufferedWriter</a></td>
<td>Writes text to a character-output stream, buffering characters so as to provide for the efficient writing of single characters, arrays, and strings.</td>
</tr>
<tr>
<td><a href="/2018/java-ByteArrayInputStream-ByteArrayOutputStream.html">ByteArrayInputStream</a></td>
<td>A <code>ByteArrayInputStream</code> contains an internal buffer that contains bytes that may be read from the stream.</td>
</tr>
<tr>
<td><a href="/2018/java-ByteArrayInputStream-ByteArrayOutputStream.html">ByteArrayOutputStream</a></td>
<td>This class implements an output stream in which the data is written into a byte array.</td>
</tr>
<tr>
<td><a href="/2018/java-CharArrayReader-CharArrayWriter.html">CharArrayReader</a></td>
<td>This class implements a character buffer that can be used as a character-input stream.</td>
</tr>
<tr>
<td><a href="/2018/java-CharArrayReader-CharArrayWriter.html">CharArrayWriter</a></td>
<td>This class implements a character buffer that can be used as an Writer.</td>
</tr>
<tr>
<td>Console</td>
<td>Methods to access the character-based console device, if any, associated with the current Java virtual machine.</td>
</tr>
<tr>
<td><a href="/2018/java-DataInputStream-DataOutputStream.html">DataInputStream</a></td>
<td>A data input stream lets an application read primitive Java data types from an underlying input stream in a machine-independent way.</td>
</tr>
<tr>
<td><a href="/2018/java-DataInputStream-DataOutputStream.html">DataOutputStream</a></td>
<td>A data output stream lets an application write primitive Java data types to an output stream in a portable way.</td>
</tr>
<tr>
<td>File</td>
<td>An abstract representation of file and directory pathnames.</td>
</tr>
<tr>
<td>FileDescriptor</td>
<td>Instances of the file descriptor class serve as an opaque handle to the underlying machine-specific structure representing an open file, an open socket, or another source or sink of bytes.</td>
</tr>
<tr>
<td><a href="/2018/java-FileInputStream-FileOutputStream.html">FileInputStream</a></td>
<td>A <code>FileInputStream</code> obtains input bytes from a file in a file system.</td>
</tr>
<tr>
<td><a href="/2018/java-FileInputStream-FileOutputStream.html">FileOutputStream</a></td>
<td>A file output stream is an output stream for writing data to a <code>File</code> or to a <code>FileDescriptor</code>.</td>
</tr>
<tr>
<td>FilePermission</td>
<td>This class represents access to a file or directory.</td>
</tr>
<tr>
<td><a href="/2018/java-FileReader-FileWriter.html">FileReader</a></td>
<td>Convenience class for reading character files.</td>
</tr>
<tr>
<td><a href="/2018/java-FileReader-FileWriter.html">FileWriter</a></td>
<td>Convenience class for writing character files.</td>
</tr>
<tr>
<td>FilterInputStream</td>
<td>A <code>FilterInputStream</code> contains some other input stream, which it uses as its basic source of data, possibly transforming the data along the way or providing additional functionality.</td>
</tr>
<tr>
<td>FilterOutputStream</td>
<td>This class is the superclass of all classes that filter output streams.</td>
</tr>
<tr>
<td><a href="/2018/java-FilterReader-FilterWriter.html">FilterReader</a></td>
<td>Abstract class for reading filtered character streams.</td>
</tr>
<tr>
<td><a href="/2018/java-FilterReader-FilterWriter.html">FilterWriter</a></td>
<td>Abstract class for writing filtered character streams.</td>
</tr>
<tr>
<td><a href="/2018/java-InputStream-OutputStream.html">InputStream</a></td>
<td>This abstract class is the superclass of all classes representing an input stream of bytes.</td>
</tr>
<tr>
<td><a href="/2018/java-InputStreamReader-OutputStreamWriter.html">InputStreamReader</a></td>
<td>An InputStreamReader is a bridge from byte streams to character streams: It reads bytes and decodes them into characters using a specified <code>charset</code>.</td>
</tr>
<tr>
<td>LineNumberInputStream</td>
<td>Deprecated<em>This class incorrectly assumes that bytes adequately represent characters.</em></td>
</tr>
<tr>
<td>LineNumberReader</td>
<td>A buffered character-input stream that keeps track of line numbers.</td>
</tr>
<tr>
<td><a href="/2018/java-ObjectInputStream.html">ObjectInputStream</a></td>
<td>An ObjectInputStream deserializes primitive data and objects previously written using an ObjectOutputStream.</td>
</tr>
<tr>
<td><a href="/2018/java-ObjectInputStream-InternalClass.html">ObjectInputStream.GetField</a></td>
<td>Provide access to the persistent fields read from the input stream.</td>
</tr>
<tr>
<td><a href="/2018/java-ObjectOutputStream.html">ObjectOutputStream</a></td>
<td>An ObjectOutputStream writes primitive data types and graphs of Java objects to an OutputStream.</td>
</tr>
<tr>
<td>ObjectOutputStream.PutField</td>
<td>Provide programmatic access to the persistent fields to be written to ObjectOutput.</td>
</tr>
<tr>
<td>ObjectStreamClass</td>
<td>Serialization’s descriptor for classes.</td>
</tr>
<tr>
<td>ObjectStreamField</td>
<td>A description of a Serializable field from a Serializable class.</td>
</tr>
<tr>
<td><a href="/2018/java-InputStream-OutputStream.html">OutputStream</a></td>
<td>This abstract class is the superclass of all classes representing an output stream of bytes.</td>
</tr>
<tr>
<td><a href="/2018/java-InputStreamReader-OutputStreamWriter.html">OutputStreamWriter</a></td>
<td>An OutputStreamWriter is a bridge from character streams to byte streams: Characters written to it are encoded into bytes using a specified <code>charset</code>.</td>
</tr>
<tr>
<td><a href="/2018/java-PipedInputStream-PipedOutputStream.html">PipedInputStream</a></td>
<td>A piped input stream should be connected to a piped output stream; the piped input stream then provides whatever data bytes are written to the piped output stream.</td>
</tr>
<tr>
<td><a href="/2018/java-PipedInputStream-PipedOutputStream.html">PipedOutputStream</a></td>
<td>A piped output stream can be connected to a piped input stream to create a communications pipe.</td>
</tr>
<tr>
<td><a href="/2018/java-PipedReader-PipedWriter.html">PipedReader</a></td>
<td>Piped character-input streams.</td>
</tr>
<tr>
<td><a href="/2018/java-PipedReader-PipedWriter.html">PipedWriter</a></td>
<td>Piped character-output streams.</td>
</tr>
<tr>
<td><a href="/2018/java-PrintStream.html">PrintStream</a></td>
<td>A <code>PrintStream</code> adds functionality to another output stream, namely the ability to print representations of various data values conveniently.</td>
</tr>
<tr>
<td><a href="/2018/java-PrintWriter.html">PrintWriter</a></td>
<td>Prints formatted representations of objects to a text-output stream.</td>
</tr>
<tr>
<td><a href="/2018/java-PushbackInputStream.html">PushbackInputStream</a></td>
<td>A <code>PushbackInputStream</code> adds functionality to another input stream, namely the ability to “push back” or “unread” one byte.</td>
</tr>
<tr>
<td><a href="/2018/java-PushbackReader.html">PushbackReader</a></td>
<td>A character-stream reader that allows characters to be pushed back into the stream.</td>
</tr>
<tr>
<td>RandomAccessFile</td>
<td>Instances of this class support both reading and writing to a random access file.</td>
</tr>
<tr>
<td><a href="/2018/java-Reader-Writer.html">Reader</a></td>
<td>Abstract class for reading character streams.</td>
</tr>
<tr>
<td><a href="/2018/java-SequenceInputStream.html">SequenceInputStream</a></td>
<td>A <code>SequenceInputStream</code> represents the logical concatenation of other input streams.</td>
</tr>
<tr>
<td>SerializablePermission</td>
<td>This class is for Serializable permissions.</td>
</tr>
<tr>
<td>StreamTokenizer</td>
<td>The <code>StreamTokenizer</code> class takes an input stream and parses it into “tokens”, allowing the tokens to be read one at a time.</td>
</tr>
<tr>
<td>StringBufferInputStream</td>
<td>Deprecated<em>This class does not properly convert characters into bytes.</em></td>
</tr>
<tr>
<td><a href="/2018/java-StringReader-StringWriter.html">StringReader</a></td>
<td>A character stream whose source is a string.</td>
</tr>
<tr>
<td><a href="/2018/java-StringReader-StringWriter.html">StringWriter</a></td>
<td>A character stream that collects its output in a string buffer, which can then be used to construct a string.</td>
</tr>
<tr>
<td><a href="/2018/java-Reader-Writer.html">Writer</a></td>
<td>Abstract class for writing to character streams.</td>
</tr>
</tbody>
</table>
</div>
<p>&emsp;</p>
<p>表2：含有或涉及接口</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Interface</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Closeable</td>
<td>A <code>Closeable</code> is a source or destination of data that can be closed.</td>
</tr>
<tr>
<td>DataInput</td>
<td>The <code>DataInput</code> interface provides for reading bytes from a binary stream and reconstructing from them data in any of the Java primitive types.</td>
</tr>
<tr>
<td>DataOutput</td>
<td>The <code>DataOutput</code> interface provides for converting data from any of the Java primitive types to a series of bytes and writing these bytes to a binary stream.</td>
</tr>
<tr>
<td>Externalizable</td>
<td>Only the identity of the class of an Externalizable instance is written in the serialization stream and it is the responsibility of the class to save and restore the contents of its instances.</td>
</tr>
<tr>
<td>FileFilter</td>
<td>A filter for abstract pathnames.</td>
</tr>
<tr>
<td>FilenameFilter</td>
<td>Instances of classes that implement this interface are used to filter filenames.</td>
</tr>
<tr>
<td>Flushable</td>
<td>A <code>Flushable</code> is a destination of data that can be flushed.</td>
</tr>
<tr>
<td>ObjectInput</td>
<td>ObjectInput extends the DataInput interface to include the reading of objects.</td>
</tr>
<tr>
<td>ObjectInputValidation</td>
<td>Callback interface to allow validation of objects within a graph.</td>
</tr>
<tr>
<td>ObjectOutput</td>
<td>ObjectOutput extends the DataOutput interface to include writing of objects.</td>
</tr>
<tr>
<td>ObjectStreamConstants</td>
<td>Constants written into the Object Serialization Stream.</td>
</tr>
<tr>
<td>Serializable</td>
<td>Serializability of a class is enabled by the class implementing the java.io.Serializable interface.</td>
</tr>
</tbody>
</table>
</div>
<p>&emsp;&emsp;关于Java.io包下的类和接口设计，大致可做如下分类：</p>
<p><img src="https://res.cloudinary.com/jknight/image/upload/v1542809473/BlogImages/21568302018/java_io_structure.png" alt></p>
<p>&emsp;&emsp;在接下来的若干篇文章中将逐个学习IO类的设计思路和使用场景。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ol>
<li><p>许 令波 . <a href="https://www.ibm.com/developerworks/cn/java/j-lo-javaio/index.html" target="_blank" rel="noopener">深入分析 Java I/O 的工作机制</a> [E]</p>
</li>
<li><p>Oracle. <a href="https://docs.oracle.com/javase/7/docs/api/java/io/package-summary.html" target="_blank" rel="noopener">Java Platform Standard Edition 7</a> [M]</p>
</li>
<li><p>小明. <a href="https://zhuanlan.zhihu.com/p/28286559" target="_blank" rel="noopener">Java IO，硬骨头也能变软</a> [E]</p>
<p>&emsp;<br>&emsp;<br>&emsp;<br>&emsp;</p>
</li>
</ol>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
  	</section>
  	
	  	<div>
		  	
				<div>
	<div style="text-align:center;color: #ccc;font-size:20px;">------------- End of this article, thanks! -------------
	<br>&emsp;</div>
</div>
		  	
		</div>
	    
		 	
		      	<section class="post-declare">
<p>
<div style="background-color:#E8E8E8;color:#000;padding:10px 15px 15px 20px;"><br><b>&emsp;&emsp;版权声明</b>：本文由<b><a href="/about" target="_blank" title="Nathan R. Lee">Nathan R. Lee</a></b>创作和发表，采用<b>署名(BY)</b>-<b>非商业性使用(NC)</b>-<b>相同方式共享(SA)</b>国际许可协议进行许可，转载请注明作者及出处。<br>&emsp;&emsp;本文作者为&nbsp;<b><a href="/about" target="_blank" title="Nathan R. Lee">Nathan R. Lee</a></b><br>&emsp;&emsp;本文标题为&nbsp;<b><a href="/2018/Java-source-IO-guide.html" target="_blank" title="Java I/O  - JAVA I/O概述">Java I/O  - JAVA I/O概述</a></b><br>&emsp;&emsp;本文链接为&nbsp;<b><a href="/2018/Java-source-IO-guide.html" target="_blank" title="Java I/O  - JAVA I/O概述">https://marcuseddie.github.io/2018/Java-source-IO-guide.html</a></b></div>
</p>
<section class="post-declare">
		  	
	  	
	  	
	  	<section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>
	
	
<div class="prev_next clearfix">
	<div style="width:50%;float:left;">
		
			
				<a href="/2019/java-multiThread-ThreadLocal.html" class="alignleft prev" title="Java多线程 - ThreadLocal解释"> 上一篇： Java多线程 - ThreadLocal解释</a>
			
		
	</div>
	<div style="width:50%;float:right;">
		
			
				<a href="/2018/java-Collection-Segment.html" class="alignright next" title="Java Map 08 - Segment"> 下一篇： Java Map 08 - Segment</a>
			
		
	</div>
</div>

	<script>
	    function createImgEventFullScreen() {
	        var imgs = $(".post").find("img");
	        for (var i = 0; i < imgs.length; i++) {
	            imgs[i].onclick = function (e) {
	                var ent = e.srcElement ? e.srcElement : e.target; // 兼容ie、Firefox、Chrome等
	                var src = ent.currentSrc;
	                var _this = $(this);
	                createCover(src,_this);
	            }
	        }
	        function createCover(src,_this) {
	            var cover = $("<div id='outerDiv' style='position:fixed;top:0;left:0;background:rgba(0,0,0,0.9);z-index:900;width:100%;height:100%;display:none;'><div id='innerDiv' style='position:absolute;'><img  id='bigImg' style='border:5px solid #fff;' src=''/></div></div>");
	            $("#outerDiv").remove();
	            $("body").append(cover);
	            imgShow("#outerDiv", "#innerDiv", "#bigImg", _this,src);
	        }
	    }

	    function imgShow(outerDiv, innerDiv, bigImg, _this,src) {
	        $(bigImg).attr("src", src); //设置#bigImg元素的src属性
	        /*获取当前点击图片的真实大小，并显示弹出层及大图*/
	        $("<img/>").attr("src", src).load(function () {
	            var windowW = $(window).width(); //获取当前窗口宽度
	            var windowH = $(window).height(); //获取当前窗口高度
	            var realWidth = this.width; //获取图片真实宽度
	            var realHeight = this.height; //获取图片真实高度
	            var imgWidth, imgHeight;
	            var scale = 0.8; //缩放尺寸，当图片真实宽度和高度大于窗口宽度和高度时进行缩放

	            if (realHeight > windowH * scale) { //判断图片高度
	                imgHeight = windowH * scale; //如大于窗口高度，图片高度进行缩放
	                imgWidth = imgHeight / realHeight * realWidth; //等比例缩放宽度
	                if (imgWidth > windowW * scale) { //如宽度仍大于窗口宽度
	                    imgWidth = windowW * scale; //再对宽度进行缩放
	                }
	            } else if (realWidth > windowW * scale) { //如图片高度合适，判断图片宽度
	                imgWidth = windowW * scale; //如大于窗口宽度，图片宽度进行缩放
	                imgHeight = imgWidth / realWidth * realHeight; //等比例缩放高度
	            } else { //如果图片真实高度和宽度都符合要求，高宽不变
	                imgWidth = realWidth;
	                imgHeight = realHeight;
	            }
	            $(bigImg).css("width", imgWidth); //以最终的宽度对图片缩放

	            var w = (windowW - imgWidth) / 2; //计算图片与窗口左边距
	            var h = (windowH - imgHeight) / 2; //计算图片与窗口上边距
	            $(innerDiv).css({ "top": h, "left": w }); //设置#innerDiv的top和left属性
	            $(outerDiv).fadeIn("fast"); //淡入显示#outerDiv
	        });

	        $(outerDiv).click(function () { //再次点击淡出消失弹出层
	            $(this).fadeOut("fast");
	        });
	    }
	    setTimeout(function () {
	        createImgEventFullScreen();
	    }, 1000)
	</script>
</section></section></article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2018-2020. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 </span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>

    
    <script src="/js/d3@6"></script>
    <!--
      <script src="/js/markmap-view@0.2.7"></script>
    -->
    

      <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
		  
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
		  
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
		isfetched = false;
        $('.popup').hide();
		$(".popoverlay").remove();
		$('body').css('overflow', '');
      };
    });

    $('.popup-btn-close').click(function(e){
	  isfetched = false;
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


    

    <script type="text/javascript" src="/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/jquery.min.js"></script>
    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
